# å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨æŠ€æœ¯æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºåŸç”ŸJavaScriptçš„å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨ï¼Œæ”¯æŒå›¾å½¢åŒ–èŠ‚ç‚¹ç¼–è¾‘ã€å¯è§†åŒ–æµç¨‹ç¼–æ’ï¼Œå¹¶é›†æˆäº†AIæ™ºèƒ½åŠ©æ‰‹åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›æ™ºèƒ½åŒ–çš„å·¥ä½œæµè®¾è®¡ä½“éªŒã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘** - æ‹–æ‹½å¼èŠ‚ç‚¹åˆ›å»ºï¼Œæ‰€è§å³æ‰€å¾—
- ğŸ¤– **AIæ™ºèƒ½åŠ©æ‰‹** - è‡ªåŠ¨ç”Ÿæˆå·¥ä½œæµã€æ™ºèƒ½ä¼˜åŒ–ã€èŠ‚ç‚¹æ¨è
- ğŸ”— **èŠ‚ç‚¹è¿æ¥** - åŸºäºjsPlumbçš„è¿æ¥çº¿ç»˜åˆ¶
- ğŸ“Š **å®æ—¶é¢„è§ˆ** - æ”¯æŒå·¥ä½œæµé¢„è§ˆå’ŒJSONå¯¼å‡º
- ğŸ¬ **åŠ¨ç”»æ•ˆæœ** - ä¸°å¯Œçš„äº¤äº’åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- ğŸ¯ **å¤šèŠ‚ç‚¹ç±»å‹** - æ”¯æŒ12ç§ä¸åŒç±»å‹çš„å·¥ä½œæµèŠ‚ç‚¹

---

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å‰ç«¯å±•ç¤ºå±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ èŠ‚ç‚¹é¢æ¿  â”‚  â”‚ ç”»å¸ƒåŒºåŸŸ  â”‚  â”‚ å±æ€§é¢æ¿  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ èŠ‚ç‚¹ç®¡ç†  â”‚  â”‚ è¿æ¥ç®¡ç†  â”‚  â”‚ çŠ¶æ€ç®¡ç†  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AIæ™ºèƒ½æ¨¡å—                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ æµç¨‹ç”Ÿæˆ  â”‚  â”‚ æ™ºèƒ½ä¼˜åŒ–  â”‚  â”‚ èŠ‚ç‚¹æ¨è  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº•å±‚æ”¯æ’‘å±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ jsPlumb  â”‚  â”‚ DOMæ“ä½œ   â”‚  â”‚ äº‹ä»¶ç³»ç»Ÿ  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—åˆ’åˆ†

#### 1. æ ¸å¿ƒæ¨¡å—
- **èŠ‚ç‚¹ç®¡ç†æ¨¡å—** - è´Ÿè´£èŠ‚ç‚¹çš„åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€é€‰æ‹©
- **è¿æ¥ç®¡ç†æ¨¡å—** - åŸºäºjsPlumbå®ç°èŠ‚ç‚¹é—´çš„è¿æ¥
- **ç”»å¸ƒç®¡ç†æ¨¡å—** - å¤„ç†ç¼©æ”¾ã€æ‹–æ‹½ã€èƒŒæ™¯è®¾ç½®
- **å±æ€§é¢æ¿æ¨¡å—** - èŠ‚ç‚¹å±æ€§ç¼–è¾‘ã€è¿æ¥çº¿å±æ€§ç¼–è¾‘

#### 2. AIæ¨¡å—
- **å·¥ä½œæµç”Ÿæˆå™¨** - åŸºäºè‡ªç„¶è¯­è¨€ç”Ÿæˆå·¥ä½œæµ
- **æ™ºèƒ½ä¼˜åŒ–å¼•æ“** - åˆ†æå¹¶ä¼˜åŒ–å·¥ä½œæµç»“æ„
- **èŠ‚ç‚¹æ¨èç³»ç»Ÿ** - ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æ™ºèƒ½æ¨è
- **AIå¯¹è¯åŠ©æ‰‹** - è‡ªç„¶è¯­è¨€äº¤äº’

#### 3. UIæ¨¡å—
- **æ‚¬æµ®æŒ‰é’®** - å³ä¸‹è§’AIåŠ©æ‰‹å…¥å£
- **è¿›åº¦é¢æ¿** - AIç”Ÿæˆæµç¨‹å¯è§†åŒ–
- **å±æ€§é¢æ¿** - èŠ‚ç‚¹/è¿æ¥å±æ€§ç¼–è¾‘
- **é¢„è§ˆé¢æ¿** - å·¥ä½œæµé¢„è§ˆå’Œå¯¼å‡º

---

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| JavaScript | ES6+ | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ |
| HTML5 | - | é¡µé¢ç»“æ„ |
| CSS3 | - | æ ·å¼å’ŒåŠ¨ç”» |
| jsPlumb | Community Edition | èŠ‚ç‚¹è¿æ¥å’Œæ‹–æ‹½ |

### è®¾è®¡æ¨¡å¼

- **æ¨¡å—åŒ–è®¾è®¡** - åŠŸèƒ½æ¨¡å—æ¸…æ™°åˆ†ç¦»
- **äº‹ä»¶é©±åŠ¨** - åŸºäºDOMäº‹ä»¶å’Œè‡ªå®šä¹‰äº‹ä»¶
- **å•ä¾‹æ¨¡å¼** - jsPlumbå®ä¾‹ç®¡ç†
- **å·¥å‚æ¨¡å¼** - èŠ‚ç‚¹åˆ›å»º
- **è§‚å¯Ÿè€…æ¨¡å¼** - èŠ‚ç‚¹é€‰æ‹©å’Œæ›´æ–°

---

## æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. èŠ‚ç‚¹ç³»ç»Ÿ

#### èŠ‚ç‚¹ç±»å‹

æ”¯æŒ12ç§èŠ‚ç‚¹ç±»å‹ï¼Œæ¯ç§èŠ‚ç‚¹æœ‰ç‹¬ç‰¹çš„å›¾æ ‡å’Œé¢œè‰²ï¼š

```javascript
const nodeTypes = {
    start: 'å¼€å§‹',
    input: 'è¾“å…¥',
    transform: 'æ–‡æœ¬å¤„ç†',
    code: 'ä»£ç ',
    condition: 'æ¡ä»¶',
    loop: 'å¾ªç¯',
    database: 'æ•°æ®åº“',
    api: 'API',
    output: 'è¾“å‡º',
    timer: 'å®šæ—¶å™¨',
    notification: 'é€šçŸ¥',
    function: 'å‡½æ•°'
}
```

#### èŠ‚ç‚¹åˆ›å»ºæµç¨‹

```javascript
// 1. åˆ›å»ºèŠ‚ç‚¹æ•°æ®
const nodeData = {
    id: 'node-{counter}',
    type: nodeType,
    position: { x, y },
    data: {
        name: nodeName,
        code: '',
        description: '',
        // ... å…¶ä»–å±æ€§
    }
}

// 2. åˆ›å»ºDOMå…ƒç´ 
const nodeElement = createElement('div')
nodeElement.className = 'workflow-node'
nodeElement.innerHTML = nodeTemplate

// 3. æ·»åŠ åˆ°ç”»å¸ƒ
canvas.appendChild(nodeElement)

// 4. é…ç½®jsPlumb
jsPlumbInstance.draggable(nodeElement)
jsPlumbInstance.addEndpoint(nodeElement, endpointConfig)
```

#### èŠ‚ç‚¹æ‹–æ‹½

- **å·¦ä¾§é¢æ¿æ‹–æ‹½** - åˆ›å»ºæ‹–æ‹½é¢„è§ˆå…ƒç´ ï¼Œé¼ æ ‡æ¾å¼€æ—¶åœ¨ç”»å¸ƒä¸­åˆ›å»ºèŠ‚ç‚¹
- **ç”»å¸ƒå†…æ‹–æ‹½** - jsPlumb draggableï¼Œæ”¯æŒ10x10ç½‘æ ¼å¯¹é½
- **é˜²æ­¢æ–‡æœ¬é€‰æ‹©** - é€šè¿‡`user-select: none`å’Œ`preventDefault()`å®ç°

```javascript
item.addEventListener("mousedown", function (e) {
    e.preventDefault() // é˜²æ­¢æ–‡æœ¬é€‰æ‹©
    
    const dragPreview = createDragPreview()
    document.addEventListener("mousemove", onMouseMove)
    document.addEventListener("mouseup", onMouseUp)
    
    document.body.style.userSelect = "none"
})
```

### 2. è¿æ¥ç³»ç»Ÿ

#### jsPlumbé…ç½®

```javascript
const jsPlumbInstance = jsPlumb.getInstance({
    Connector: ["Bezier", { curviness: 50 }],
    Endpoint: ["Dot", { radius: 5 }],
    HoverPaintStyle: { stroke: "#1e88e5", strokeWidth: 2 },
    ConnectionOverlays: [
        ["Arrow", {
            location: 1,
            width: 10,
            length: 10
        }]
    ],
    Container: canvas
})
```

#### è¿æ¥çº¿ç‰¹æ€§

- **è´å¡å°”æ›²çº¿** - å¹³æ»‘çš„æ›²çº¿è¿æ¥
- **ç«¯ç‚¹é…ç½®** - å·¦ä¾§è¾“å…¥ï¼Œå³ä¾§è¾“å‡º
- **æ ·å¼è‡ªå®šä¹‰** - æ”¯æŒé¢œè‰²ã€ç²—ç»†ã€ç±»å‹è‡ªå®šä¹‰
- **è¿æ¥æ ‡ç­¾** - æ”¯æŒæ·»åŠ æ–‡å­—æ ‡ç­¾

### 3. AIæ™ºèƒ½åŠ©æ‰‹

#### 3.1 å·¥ä½œæµç”Ÿæˆ

**æŠ€æœ¯æ–¹æ¡ˆï¼š** å…³é”®è¯åŒ¹é… + è§„åˆ™å¼•æ“

```javascript
// è‡ªç„¶è¯­è¨€åˆ†æ
function analyzePromptAndGenerateWorkflow(prompt) {
    const patterns = {
        login: /ç™»å½•|è®¤è¯|login|auth/i,
        register: /æ³¨å†Œ|sign.*up|register/i,
        data: /æ•°æ®|å¤„ç†|data|process/i,
        // ... æ›´å¤šæ¨¡å¼
    }
    
    // åŒ¹é…æ„å›¾
    const intent = detectIntent(prompt, patterns)
    
    // ç”ŸæˆèŠ‚ç‚¹é…ç½®
    const workflow = {
        nodes: generateNodes(intent),
        connections: generateConnections(nodes)
    }
    
    return workflow
}
```

**åŠ¨ç”»æ¸²æŸ“ï¼š**

- é€’å½’åˆ›å»ºèŠ‚ç‚¹ï¼ˆ400msé—´éš”ï¼‰
- èŠ‚ç‚¹ç¼©æ”¾åŠ¨ç”»ï¼ˆscale 0.5 â†’ 1ï¼‰
- è„‰å†²æ³¢çº¹æ•ˆæœ
- è¿›åº¦é¢æ¿å®æ—¶æ›´æ–°

```javascript
function createNextNode() {
    const node = createNode(nodeConfig)
    
    // åŠ¨ç”»æ•ˆæœ
    nodeElement.style.opacity = '0'
    nodeElement.style.transform = 'scale(0.5)'
    
    setTimeout(() => {
        nodeElement.style.transition = 'all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)'
        nodeElement.style.opacity = '1'
        nodeElement.style.transform = 'scale(1)'
    }, 50)
    
    setTimeout(createNextNode, 400)
}
```

#### 3.2 æ™ºèƒ½ä¼˜åŒ–

**åˆ†æç»´åº¦ï¼š**

1. **ç»“æ„åˆ†æ** - æ£€æµ‹å­¤ç«‹èŠ‚ç‚¹ã€ç¼ºå°‘å¼€å§‹èŠ‚ç‚¹
2. **æ€§èƒ½åˆ†æ** - æ£€æµ‹é‡å¤æŸ¥è¯¢ã€å¯ä¼˜åŒ–çš„è¿æ¥
3. **æ¶æ„åˆ†æ** - å¼‚å¸¸å¤„ç†ã€é”™è¯¯é‡è¯•ã€æ—¥å¿—è¾“å‡º

```javascript
function analyzeAndOptimizeWorkflow(nodes, connections) {
    const analysis = {
        score: 85,
        issues: [],
        suggestions: [],
        optimizations: []
    }
    
    // æ£€æŸ¥å­¤ç«‹èŠ‚ç‚¹
    const orphanNodes = detectOrphanNodes(nodes, connections)
    
    // æ£€æŸ¥æ•°æ®åº“èŠ‚ç‚¹
    if (dbNodes.length > 2) {
        analysis.suggestions.push('æ‰¹é‡æŸ¥è¯¢ä»£æ›¿å¤šæ¬¡æŸ¥è¯¢')
    }
    
    return analysis
}
```

#### 3.3 èŠ‚ç‚¹æ¨è

**æ¨èè§„åˆ™ï¼š**

```javascript
const suggestionRules = {
    start: [
        { type: 'input', title: 'è¾“å…¥', desc: 'æ¥æ”¶ç”¨æˆ·æˆ–ç³»ç»Ÿè¾“å…¥' },
        { type: 'timer', title: 'å®šæ—¶å™¨', desc: 'å®šæ—¶è§¦å‘æµç¨‹' }
    ],
    input: [
        { type: 'code', title: 'ä»£ç ', desc: 'éªŒè¯æˆ–å¤„ç†è¾“å…¥æ•°æ®' },
        { type: 'condition', title: 'æ¡ä»¶', desc: 'æ ¹æ®è¾“å…¥è¿›è¡Œåˆ†æ”¯' }
    ],
    // ... æ›´å¤šè§„åˆ™
}
```

### 4. ç¼©æ”¾å’Œå¹³ç§»

```javascript
// ç¼©æ”¾
function setZoom(newScale) {
    scale = Math.max(0.1, Math.min(2, newScale))
    canvas.style.transform = `scale(${scale})`
    jsPlumbInstance.setZoom(scale)
}

// é¼ æ ‡æ»šè½®ç¼©æ”¾
canvas.addEventListener('wheel', (e) => {
    if (e.ctrlKey) {
        e.preventDefault()
        const delta = e.deltaY > 0 ? -0.1 : 0.1
        setZoom(scale + delta)
    }
})
```

### 5. ç¼©ç•¥å›¾

**å®ç°åŸç†ï¼š**

- Canvasç»˜åˆ¶ç¼©ç•¥è§†å›¾
- å®æ—¶åŒæ­¥èŠ‚ç‚¹ä½ç½®
- åŠ¨æ€è®¡ç®—ç¼©æ”¾æ¯”ä¾‹
- è‡ªé€‚åº”å†…å®¹å±…ä¸­

```javascript
function updateMinimap() {
    const ctx = minimapCanvas.getContext('2d')
    
    // è®¡ç®—å†…å®¹è¾¹ç•Œ
    const bounds = calculateContentBounds(nodes)
    
    // è®¡ç®—ç¼©æ”¾æ¯”ä¾‹
    const scale = Math.min(
        minimapCanvas.width / contentWidth,
        minimapCanvas.height / contentHeight
    )
    
    // ç»˜åˆ¶èŠ‚ç‚¹
    nodes.forEach(node => {
        ctx.fillStyle = nodeTypeColors[node.type]
        ctx.fillRect(x, y, width, height)
    })
}
```

---

## å…¨å±€APIè®¾è®¡

ä¸ºäº†è®©AIæ¨¡å—èƒ½å¤Ÿè®¿é—®æ ¸å¿ƒåŠŸèƒ½ï¼Œè®¾è®¡äº†å…¨å±€APIå¯¹è±¡ï¼š

```javascript
window.workflowAPI = {
    createNode,           // åˆ›å»ºèŠ‚ç‚¹
    updateNodeData,       // æ›´æ–°èŠ‚ç‚¹æ•°æ®
    clearCanvas,          // æ¸…ç©ºç”»å¸ƒ
    getNodes,            // è·å–èŠ‚ç‚¹åˆ—è¡¨
    getConnections,      // è·å–è¿æ¥åˆ—è¡¨
    jsPlumbInstance,     // jsPlumbå®ä¾‹
    updateMinimap,       // æ›´æ–°ç¼©ç•¥å›¾
    nodeTypeColors,      // èŠ‚ç‚¹é¢œè‰²é…ç½®
    nodeTypeTextColors,  // èŠ‚ç‚¹æ–‡å­—é¢œè‰²
    nodeTypeIcons        // èŠ‚ç‚¹å›¾æ ‡
}
```

---

## æ•°æ®ç»“æ„

### èŠ‚ç‚¹æ•°æ®ç»“æ„

```javascript
{
    id: "node-1",
    type: "code",
    position: { x: 100, y: 100 },
    data: {
        name: "ä»£ç å¤„ç†",
        code: "console.log('Hello')",
        description: "å¤„ç†æ•°æ®",
        timeout: 5000,
        retryCount: 0,
        retryDelay: 1000,
        enabled: true,
        priority: "medium",
        tags: ["processing"],
        style: "default"
    }
}
```

### è¿æ¥æ•°æ®ç»“æ„

```javascript
{
    source: "node-1",
    target: "node-2",
    label: "æˆåŠŸ",
    style: {
        stroke: "#5c6bc0",
        strokeWidth: 2,
        connector: "Bezier"
    }
}
```

### å·¥ä½œæµæ•°æ®ç»“æ„

```javascript
{
    metadata: {
        name: "æˆ‘çš„å·¥ä½œæµ",
        description: "æè¿°",
        version: "1.0.0",
        permission: "private",
        createdAt: "2024-01-01T00:00:00Z"
    },
    nodes: [...],
    connections: [...],
    backgroundSettings: {
        type: "grid",
        color: "#ffffff",
        gridSize: 20,
        gridColor: "#e0e0e0"
    }
}
```

---

## UI/UXè®¾è®¡

### 1. è®¾è®¡è§„èŒƒ

#### é¢œè‰²ç³»ç»Ÿ

```css
/* ä¸»è‰²è°ƒ */
--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
--primary-color: #667eea;

/* èŠ‚ç‚¹é¢œè‰² */
--start-color: #4285f4;
--input-color: #1890ff;
--code-color: #faad14;
--condition-color: #fa541c;
```

#### åŠ¨ç”»æ›²çº¿

```css
/* æ ‡å‡†ç¼“åŠ¨ */
cubic-bezier(0.4, 0, 0.2, 1)

/* å¼¹æ€§ç¼“åŠ¨ */
cubic-bezier(0.34, 1.56, 0.64, 1)
```

### 2. äº¤äº’åŠ¨ç”»

#### èŠ‚ç‚¹åˆ›å»ºåŠ¨ç”»

```css
@keyframes nodeCreate {
    0% {
        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
    }
    70% {
        box-shadow: 0 0 0 15px rgba(102, 126, 234, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
    }
}
```

#### æ‚¬æµ®æŒ‰é’®è„‰å†²

```css
@keyframes pulse {
    0% {
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4), 
                    0 0 0 0 rgba(102, 126, 234, 0.7);
    }
    50% {
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4), 
                    0 0 0 10px rgba(102, 126, 234, 0);
    }
}
```

### 3. å“åº”å¼å¸ƒå±€

- **å·¦ä¾§é¢æ¿**: å›ºå®šå®½åº¦ 192px
- **å³ä¾§é¢æ¿**: å›ºå®šå®½åº¦ 288px
- **ä¸­é—´ç”»å¸ƒ**: è‡ªé€‚åº”å‰©ä½™ç©ºé—´
- **æ‚¬æµ®æŒ‰é’®**: å›ºå®šå®šä½ bottom: 50px, right: 30px

---

## æ€§èƒ½ä¼˜åŒ–

### 1. DOMæ“ä½œä¼˜åŒ–

- **æ‰¹é‡æ“ä½œ** - ä½¿ç”¨DocumentFragment
- **äº‹ä»¶å§”æ‰˜** - å‡å°‘äº‹ä»¶ç›‘å¬å™¨æ•°é‡
- **é˜²æŠ–èŠ‚æµ** - é™åˆ¶é«˜é¢‘äº‹ä»¶è§¦å‘

### 2. æ¸²æŸ“ä¼˜åŒ–

- **CSSåŠ¨ç”»** - ä¼˜å…ˆä½¿ç”¨transformå’Œopacity
- **ç¡¬ä»¶åŠ é€Ÿ** - will-changeå±æ€§
- **æ‡’åŠ è½½** - æŒ‰éœ€åˆ›å»ºèŠ‚ç‚¹

### 3. å†…å­˜ç®¡ç†

- **åŠæ—¶æ¸…ç†** - ç§»é™¤èŠ‚ç‚¹æ—¶æ¸…ç†äº‹ä»¶ç›‘å¬
- **å¯¹è±¡å¤ç”¨** - å¤ç”¨jsPlumbç«¯ç‚¹
- **å¼±å¼•ç”¨** - é¿å…å¾ªç¯å¼•ç”¨

---

## æ‰©å±•æ€§è®¾è®¡

### 1. æ–°å¢èŠ‚ç‚¹ç±»å‹

```javascript
// 1. æ·»åŠ èŠ‚ç‚¹å›¾æ ‡
nodeTypeIcons['newType'] = `<svg>...</svg>`

// 2. æ·»åŠ èŠ‚ç‚¹é¢œè‰²
nodeTypeColors['newType'] = '#color'

// 3. æ·»åŠ èŠ‚ç‚¹åç§°
function getNodeName(type) {
    const nameMap = {
        newType: 'æ–°èŠ‚ç‚¹'
    }
}
```

### 2. æ¥å…¥çœŸå®AIæœåŠ¡

```javascript
async function generateWorkflowFromPrompt(prompt) {
    // æ›¿æ¢ä¸ºçœŸå®APIè°ƒç”¨
    const response = await fetch('/api/ai/generate', {
        method: 'POST',
        body: JSON.stringify({ prompt })
    })
    
    const workflow = await response.json()
    return workflow
}
```

### 3. è‡ªå®šä¹‰èŠ‚ç‚¹æ ·å¼

```javascript
const nodeStyles = {
    custom: {
        name: 'è‡ªå®šä¹‰',
        className: 'node-style-custom'
    }
}
```

---

## éƒ¨ç½²è¯´æ˜

### æœ¬åœ°å¼€å‘

1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd flow
```

2. ç›´æ¥æ‰“å¼€index.html
```bash
open index.html
# æˆ–ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨
python -m http.server 8000
```

### ç”Ÿäº§éƒ¨ç½²

é¡¹ç›®ä¸ºçº¯é™æ€é¡µé¢ï¼Œå¯éƒ¨ç½²åˆ°ä»»ä½•WebæœåŠ¡å™¨ï¼š

- Nginx
- Apache
- CDNæœåŠ¡
- GitHub Pages
- Vercel / Netlify

---

## æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | æœ€ä½ç‰ˆæœ¬ |
|--------|---------|
| Chrome | 80+ |
| Firefox | 75+ |
| Safari | 13+ |
| Edge | 80+ |

**æ³¨æ„äº‹é¡¹ï¼š**
- éœ€è¦æ”¯æŒES6+è¯­æ³•
- éœ€è¦æ”¯æŒCSS Gridå’ŒFlexbox
- éœ€è¦æ”¯æŒCSSå˜é‡

---

## æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡

- [ ] æ¥å…¥çœŸå®AIå¤§æ¨¡å‹ï¼ˆGPT-4/Claudeï¼‰
- [ ] æ”¯æŒå·¥ä½œæµå¯¼å…¥/å¯¼å‡º
- [ ] å¢åŠ æ›´å¤šèŠ‚ç‚¹ç±»å‹
- [ ] æ”¯æŒèŠ‚ç‚¹åˆ†ç»„

### é•¿æœŸç›®æ ‡

- [ ] å·¥ä½œæµæ‰§è¡Œå¼•æ“
- [ ] å¤šäººåä½œç¼–è¾‘
- [ ] ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
- [ ] å·¥ä½œæµæ¨¡æ¿å¸‚åœº
- [ ] ç§»åŠ¨ç«¯é€‚é…

---

## æŠ€æœ¯äº®ç‚¹

1. **åŸç”ŸJavaScriptå®ç°** - æ— æ¡†æ¶ä¾èµ–ï¼Œè½»é‡çº§ï¼Œæ˜“äºå®šåˆ¶
2. **AIæ™ºèƒ½è¾…åŠ©** - é™ä½ä½¿ç”¨é—¨æ§›ï¼Œæå‡è®¾è®¡æ•ˆç‡
3. **åŠ¨ç”»æµç•…** - ä¸°å¯Œçš„äº¤äº’åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
4. **æ¶æ„æ¸…æ™°** - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
5. **ç”¨æˆ·ä½“éªŒä¼˜ç§€** - æ‹–æ‹½ã€ç¼©æ”¾ã€é¢„è§ˆç­‰åŠŸèƒ½å®Œå–„

---

## ç›¸å…³èµ„æº

1. [flowmix/docx å¤šæ¨¡æ€æ–‡æ¡£ç¼–è¾‘å™¨](https://flowmix.turntip.cn)
2. [çµè¯­AIæ–‡æ¡£](https://mindlink.turntip.cn)
3. [JitWord åœ¨çº¿ååŒæ–‡æ¡£ç¼–è¾‘å™¨](https://jitword.com)
4. [pxcharts å¤šç»´è¡¨æ ¼ç¼–è¾‘å™¨](http://pxcharts.com)
5. [H5-Dooringæ™ºèƒ½é›¶ä»£ç å¹³å°](https://github.com/MrXujiang/h5-Dooring)

**æŠ€æœ¯æ”¯æŒï¼š** wx: cxzk_168

---

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-11)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¨ æ”¯æŒ12ç§èŠ‚ç‚¹ç±»å‹
- ğŸ¤– é›†æˆAIæ™ºèƒ½åŠ©æ‰‹
- ğŸ¬ æ·»åŠ ç”ŸæˆåŠ¨ç”»æ•ˆæœ
- ğŸ“Š æ”¯æŒå·¥ä½œæµé¢„è§ˆå’Œå¯¼å‡º

---

*æœ¬æ–‡æ¡£æŒç»­æ›´æ–°ä¸­...*
